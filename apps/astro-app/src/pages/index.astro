---
import Layout from '../layouts/Layout.astro'
import AuthStatus from '../components/AuthStatus'
import { add, capitalize, formatCurrency } from 'package1'

const appName = import.meta.env.PUBLIC_APP_NAME || 'Astro App'
const apiUrl = import.meta.env.PUBLIC_API_URL || 'http://localhost:3000'
const env = import.meta.env.MODE || 'development'
---

<Layout title={appName}>
  <main>
    <h1>{appName}</h1>
    <p>Welcome to the Astro app in the monorepo!</p>
    <div class="auth-box">
      <p><strong>Firebase Auth</strong></p>
      <AuthStatus client:only="react" />
    </div>
    <div class="info-box">
      <p><strong>Environment Variables:</strong></p>
      <ul>
        <li>Environment: {env}</li>
        <li>API URL: {apiUrl}</li>
      </ul>
      <p><strong>Using package1 utilities:</strong></p>
      <ul>
        <li>Capitalize: {capitalize('hello world')}</li>
        <li>Add: 5 + 3 = {add(5, 3)}</li>
        <li>Currency: {formatCurrency(1234.56)}</li>
      </ul>
    </div>
  </main>
</Layout>

<style>
  main {
    padding: 2rem;
    font-family:
      system-ui,
      -apple-system,
      sans-serif;
  }

  .auth-box {
    margin-top: 1rem;
    padding: 1rem;
    background: #eef6ff;
    border-radius: 4px;
    border: 1px solid #b3d4fc;
  }

  .info-box {
    margin-top: 1rem;
    padding: 1rem;
    background: #f5f5f5;
    border-radius: 4px;
  }

  .info-box ul {
    margin-bottom: 1rem;
  }
</style>
